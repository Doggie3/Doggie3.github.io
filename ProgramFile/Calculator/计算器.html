<!DOCTYPE html>
<html>
<head>
    <title>科学计算器</title>
    <style>
        body {
            background-color: #f2f2f2;
            font-family: Arial, sans-serif;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .container {
            margin: 0 auto;
            width: 600px;
            padding: 20px;
            background-color: #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            border-radius: 5px;
        }
        input[type="button"] {
            width: 50px;
            height: 50px;
            font-size: 20px;
            margin: 5px;
            background-color: #eee;
            border: none;
            border-radius: 5px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }
        input[type="button"]:hover {
            background-color: #ddd;
        }
        input[type="text"] {
            width: 300px;
            height: 50px;
            font-size: 20px;
            margin: 5px;
            background-color: #eee;
            border: none;
            border-radius: 5px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
            text-align: right;
            padding-right: 10px;
        }
    </style>
    <script>
        function insert(num) {
            document.getElementById('result').value += num;
        }

        function equal() {
            var exp = document.getElementById('result').value;
            if (exp) {
                document.getElementById('result').value = eval(exp);
            }
        }

        function clean() {
            document.getElementById('result').value = '';
        }

        function back() {
            var exp = document.getElementById('result').value;
            document.getElementById('result').value = exp.substring(0, exp.length - 1);
        }

        function sin() {
            var exp = document.getElementById('result').value;
            document.getElementById('result').value = Math.sin(eval(exp));
        }

        function cos() {
            var exp = document.getElementById('result').value;
            document.getElementById('result').value = Math.cos(eval(exp));
        }

        function tan() {
            var exp = document.getElementById('result').value;
            document.getElementById('result').value = Math.tan(eval(exp));
        }

        function asin() {
            var exp = document.getElementById('result').value;
            document.getElementById('result').value = Math.asin(eval(exp));
        }

        function acos() {
            var exp = document.getElementById('result').value;
            document.getElementById('result').value = Math.acos(eval(exp));
        }

        function atan() {
            var exp = document.getElementById('result').value;
            document.getElementById('result').value = Math.atan(eval(exp));
        }

function pow() {
    var exp = document.getElementById('result').value;
    var base = exp.substring(0, exp.indexOf('^'));
    var exponent = exp.substring(exp.indexOf('^') + 1);
    document.getElementById('result').value = Math.pow(eval(base), eval(exponent));
}
        function sqrt() {
            var exp = document.getElementById('result').value;
            document.getElementById('result').value = Math.sqrt(eval(exp));
        }

        function log() {
            var exp = document.getElementById('result').value;
            document.getElementById('result').value = Math.log10(eval(exp));
        }

        function ln() {
            var exp = document.getElementById('result').value;
            document.getElementById('result').value = Math.log(eval(exp));
        }

        function clearAll() {
            document.getElementById('result').value = '';
            document.getElementById('history').innerHTML = '';
        }

        function reverse() {
            var exp = document.getElementById('result').value;
            document.getElementById('result').value = eval(exp) * -1;
        }

        function constant(constant) {
            if (constant == 'pi') {
                document.getElementById('result').value += Math.PI;
            } else if (constant == 'e') {
                document.getElementById('result').value += Math.E;
            }
        }

        function addToHistory() {
            var exp = document.getElementById('result').value;
            var result = eval(exp);
            var history = document.getElementById('history');
            history.innerHTML += exp + ' = ' + result + '<br>';
        }

        function memory() {
            var exp = document.getElementById('result').value;
            var result = eval(exp);
            localStorage.setItem('memory', result);
        }

        function recall() {
            var memory = localStorage.getItem('memory');
            document.getElementById('result').value = memory;
        }
    </script>
</head>
<body>
    <div class="container">
        <h1>科学计算器</h1>
        <form>
            <input type="text" id="result" name="result" readonly>
            <br>
            <input type="button" value="1" onclick="insert('1')">
            <input type="button" value="2" onclick="insert('2')">
            <input type="button" value="3" onclick="insert('3')">
            <input type="button" value="+" onclick="insert('+')">
            <input type="button" value="sin" onclick="sin()">
            <input type="button" value="cos" onclick="cos()">
            <input type="button" value="tan" onclick="tan()">
            <input type="button" value="(" onclick="insert('(')">
            <br>
            <input type="button" value="4" onclick="insert('4')">
            <input type="button" value="5" onclick="insert('5')">
            <input type="button" value="6" onclick="insert('6')">
            <input type="button" value="-" onclick="insert('-')">
            <input type="button" value="asin" onclick="asin()">
            <input type="button" value="acos" onclick="acos()">
            <input type="button" value="atan" onclick="atan()">
            <input type="button" value=")" onclick="insert(')')">
            <br>
            <input type="button" value="7" onclick="insert('7')">
            <input type="button" value="8" onclick="insert('8')">
            <input type="button" value="9" onclick="insert('9')">
            <input type="button" value="*" onclick="insert('*')">
            <input type="button" value="x^y" onclick="pow()">
            <input type="button" value="^" onclick="insert('^')">
            <input type="button" value="sqrt" onclick="sqrt()">
            <input type="button" value="log" onclick="log()">
            <input type="button" value="ln" onclick="ln()">
            <br>
            <input type="button" value="0" onclick="insert('0')">
            <input type="button" value="." onclick="insert('.')">
            <input type="button" value="=" onclick="equal(); addToHistory()">
            <input type="button" value="/" onclick="insert('/')">
            <input type="button" value="清除" onclick="clean()">
            <input type="button" value="清除全部" onclick="clearAll()">
            <input type="button" value="反转符号" onclick="reverse()">
            <input type="button" value="π" onclick="constant('pi')">
            <input type="button" value="e" onclick="constant('e')">
            <input type="button" value="记忆" onclick="memory()">
            <input type="button" value="回忆" onclick="recall()">
        </form>
        <div id="history"></div>
    </div>
</body>
</html>